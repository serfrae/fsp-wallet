# 01-Wallet

## Usage
NOTE: Rust must be installed on your system.

Start by cloning this repo:
```
git clone https://github.com/serfrae/sfp
```

Navigate to the wallet directory:
```
cd sfp/01-wallet
```

You may choose to build the binary and install:
```
cargo build --release && cargo install --path .
```

Or just run each of the commands with:
```
cargo run <COMMAND> <ARGS>
```

If installed, the program can be invoked with:
```
fsp-wallet <COMMAND> <ARGS>
```

## Commands
### Args
```
fsp-wallet --url [URL]
```
- Which RPC this program should target.
    - Options:
        - "l" or "local": localhost
        - "t" or "testnet": testnet
        - "d" or "devnet": devnet
        - "m" or "mainnet": mainnet-beta
        - A custom url may be provided, this program will not check for malformed
        urls and will assume your input is correct

### Generate a new keypair
```
fsp-wallet keypair new
fsp-wallet keypair new --outfile <PATH>
```
- `<PATH>` may be relative or absolute, if no `<PATH>` is provided, output is
the base config directory of your OS, for Unix-based systems this will be `$XDG_CONFIG_HOME`
for Windows this is `%APPDATA%`. If this is the first time running the program,
the program will create a folder to store the keypair at this path.

### Remove keypair folder & file
```
fsp-wallet keypair remove
```
- This will remove the keypair and the folder generated by this program at the config
directory of your OS.

### Get address
#### Public Key
```
fsp-wallet address public [OPTIONS]
```
- Options:
    - `-k`, `--keypair` `<KEYPAIR>`: Optional path to a keypair file, if none is provided
    will default to the keypair file found at the `fsp-wallet` config directory, if no
    keypair is found will fallback to the keypair found in the solana config.

### Secret Key
```
fsp-wallet address secret [OPTIONS]
```

- Options:
    - `-k`, `--keypair` `<KEYPAIR>`: Optional path to a keypair file, if none is provided
    will default to the keypair file found at the `fsp-wallet` config directory, if no
    keypair is found will fallback to the keypair found in the solana config.
    - `-a`, `--as-type` `<STRING>`: Optional specifier for the secret's output, the only option is
    `base58`, attempting to pass any other string will also return a `base58`, if none is provided,
    the secret is output as bytes.

## Balance
```
fsp-wallet balance [PATH]
```
- Retrieves the current balance, an optional keypair path maybe provided using `-k` or `--keypair`
and then providing the path to your keypair file.

## Airdrop
```
fsp-wallet airdrop [TO] <AMOUNT>
```
- Airdrops SOL to a specified wallet using the optional flag `--to` `<PUBKEY>` if no pubkey
is provided, defaults to the config keypair, if no keypair is generated then the fallback is the client
keypair

## Transfer
```
fsp-wallet transfer [FROM] <TO> <AMOUNT>
```
- Transfers the amount (`<AMOUNT>`) of SOL to the given public key (`<TO>`). Takes
an optional path `-f` or `--from` to a keypair to transfer from.
